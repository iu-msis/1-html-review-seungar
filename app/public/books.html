<!doctype html>
<html>
<head>
  <title>Books</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <link href="css/style.css" rel="stylesheet">
  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
</head>
<body>
    <main>
        <nav class="nav">
            <a class="nav-links" href="index.html">Home</a>
            <a class="nav-links" href="profile.html">Profile</a>
            <a class="nav-links" href="books.html">Books</a>
        </nav>
        <h1>Check out these amazing books!</h1>
        <a target='_blank' href='https://pngimg.com/uploads/book/book_PNG2105.png'>
        <img src='img/books.png' height='100px'></img></a><br>
        <p>This a picture of books!</p>

        <div id="bookApp" class='container'>
        <table id="booktable" class="table table-bordered">
            <thead>
              <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Year Published</th>
                <th>Publisher</th>
                <th>Page Count</th>
                <th>MSRP</th>
                <th>Delete</th>
                <th>Edit</th>
              </tr>
              <tbody>
              <tr v-for="book in books">
                <td>{{ book.title }}</td>
                <td>{{ book.author }}</td>
                <td>{{ book.yearpub }}</td>
                <td>{{ book.publisher}}</td>
                <td>{{ book.page_count }}</td>
                <td>{{ book.msrp }}</td>
                <td>
                <button type="button" v-on:click="postDeleteBook(book)" class="btn btn-outline-secondary btn-sm">Delete</button>
                </td>
                <td>
                <button type="button" v-on:click="handleEditBook(book)" class="btn btn-outline-secondary btn-sm">Edit</button>
                </td>
              </tr>
            </tbody>
          </table>
        
          <h3>{{ selectedBook === null? "Add " : "Edit " }} Book</h3>
          <form  v-on:submit.prevent="postBook">
            <div class="mb-3">
              Title<input type='text' v-model="bookForm.title" class="form-control" id='title'>
            </div>
            <div class="mb-3">
              Author<input type='text' v-model="bookForm.author" class="form-control" id='author'>
            </div>
            <div class="mb-3">
            Year Published<input type='number' v-model="bookForm.yearpub" class="form-control" id='yearpub'>
            </div>
            <div class="mb-3">
              Publisher<input type='text' v-model="bookForm.publisher" class="form-control" id='publisher'>
            </div>  
            <div class="mb-3">
              # of Pages<input type='number' v-model="bookForm.page_count" class="form-control" id='page_count'>
            </div>
            <div class="mb-3">
              MSRP!<input type='text' v-model="bookForm.msrp" class="form-control" id='msrp'>
            </div>  
            <button type="submit" class="btn btn-primary">{{ selectedBook === null? "Add " : "Edit " }} Book</button>
            
          </form>
        </div>
    </main>
    <!-- table sort plugin from http://tristen.ca/tablesort/demo/ -->
    <script src='js/sort.js'></script>
    <script>
      new Tablesort(document.getElementById("booktable"));
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
    <script src="js/index.js"></script>
  </body>  
<footer>
</footer>
</html>


